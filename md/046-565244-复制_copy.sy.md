---
show: step
version: 1.0
enable_checker: true
---

# 复制

## 回忆

- 上次研究了路径堆栈
	- dirs
	- pushd
	- popd
- 可以控制一个路径堆栈
- 这样跳转的时候就可以快速进行跳转
- 不用来回来打路径了
- 可以文件夹和文件可以复制么?🤔

### 复制

- 复制的命令是cp
- 灵魂三问

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220914-1663123011150)

- 可以拷贝文件和文件夹
- 看起来也是debian的coreutils的外部命令

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220914-1663123108733)

- 可以查看具体帮助手册么？

### 帮助手册

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220914-1663123138891)

- cp 源 目标

### 动手

- 在year/winter/1/中
- 用touch 建立一个 1 文件

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220914-1663123235321)

- copy 1 2
- 就是把 1 复制成 2
- 于是有了 2 
- 甚至有了 3
- 可以将文件复制到其他目录么？

### 复制到其他目录

- 补全4到31日

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220914-1663123654589)

- 将当前目录下的所有文件*复制到向上一级的11里面

```
cp * ../11
```

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220914-1663123727424)

- 11月也有这些文件了
- 可以向上两级么？

### 向上两级

```
cp * ../../spring/2
ls ../../spring/2
```

- 尝试

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220914-1663123850897)

- 可以使用绝对路径么？

### 绝对路径

```
cp * /home/shiyanlou/summer/5
ls ../../summer/5
```

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220914-1663123964110)

- 确实是可以的
- 我想在秋天的目录下
- 将夏天5月下的所有文件
- 拷贝到冬天12月下可以么？

### 复杂相对路径

- 注意5后面有个*

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220914-1663125607040)

- 没有问题
- 我想在春天3月目录下
- 把春天2月下的文件
- 复制到秋天8月的目录下
- 可以么？

### 复杂相对路径2

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220914-1663125930763)

- 可以使用<kbd>tab</kbd>
- 进行提示
- 可以复制目录吗？

### 复制目录

- 直接赋值是略过目录的

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220914-1663124167989)

- 这应该查看一下手册中的参数

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220914-1663124270756)

- -r
	- 递归地复制文件夹和子文件夹

### 动手

- 源路径、目标路径、参数都必须明确

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220914-1663124367305)

- 还有什么样的参数么？

### 更多参数


- -d
	- 复制时保留链接
	- 链接相当于 Windows 系统中的快捷方式

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220914-1663124529106)

- -p
	- 除复制文件的内容外
	- 还把修改时间和访问权限也复制到新文件中

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220914-1663124597232)

- -a
	- 等价于-dR --preserve=all

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220914-1663124645267)

### 覆盖提示

- -f
	- 覆盖已经存在的目标文件而不给出提示
- -i
	- 与 -f 选项相反
	- 在覆盖目标文件之前给出提示
	- 要求用户确认是否覆盖
	- 回答 y 时目标文件将被覆盖

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220914-1663124747912)

### 链接文件

- -l
	- 不复制文件
	- 只是生成链接文件
- 什么是链接文件
- 这个有点不懂了
- 我们先去总结吧


### 总结 
- 这次我们学习了cp命令
- cp有两个关键因素
	- 源
	- 目标
- 源和目标都可以用绝对路径和可以用相对路径
	- 绝对路径
		- 清晰
		- 但一般比较长
	- 相对路径
		- 较短
		- 但头脑一定要清晰
- cp 还有一些参数
	- -r 递归
	- -f 强制
	- -i 交互
	- -l 只生成链接
- 这个链接是什么意思呢？🤔
- 下次再说👋
